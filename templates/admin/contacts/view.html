{{block "content" .}}

<div class="max-w-4xl mx-auto mt-10 bg-white shadow-xl rounded-xl p-6 border border-gray-100">

  <!-- Header -->
  <div class="flex justify-between items-center mb-6">
    <h2 class="text-2xl font-semibold text-gray-800">View Message</h2>
    <a href="/admin/contacts"
       class="px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg text-sm font-medium">
       Back to Contacts
    </a>
  </div>

  <!-- Sender Info -->
  <div class="mb-6 grid md:grid-cols-2 gap-4">
    <div>
      <p class="text-sm text-gray-500">Name</p>
      <p class="font-medium text-gray-800">{{ .Message.Name }}</p>
    </div>
    <div>
      <p class="text-sm text-gray-500">Email</p>
      <p class="font-medium text-gray-800">{{ .Message.Email }}</p>
    </div>
    <div>
      <p class="text-sm text-gray-500">Subject</p>
      <span class="px-2 py-1 rounded-full text-xs font-semibold
            {{ if eq .Message.Subject "Support" }} bg-blue-100 text-blue-700
            {{ else if eq .Message.Subject "Inquiry" }} bg-green-100 text-green-700
            {{ else if eq .Message.Subject "Complaint" }} bg-red-100 text-red-700
            {{ else }} bg-gray-100 text-gray-700 {{ end }}">
        {{ .Message.Subject }}
      </span>
    </div>
    <div>
      <p class="text-sm text-gray-500">Received At</p>
      <p class="font-medium text-gray-800">{{ .Message.CreatedAt.Format "2006-01-02 15:04" }}</p>
    </div>
  </div>

  <!-- Message Body -->
  <div class="mb-6">
    <p class="text-sm text-gray-500 mb-2">Message</p>
    <div class="p-4 bg-gray-50 border border-gray-200 rounded-lg text-gray-700 whitespace-pre-line">
      {{ .Message.Message }}
    </div>
  </div>

  <!-- Status Badge -->
  <div class="mb-6">
    <p class="text-sm text-gray-500 mb-1">Status</p>
    {{ if .Message.IsRead }}
      <span class="px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-semibold">Read</span>
    {{ else }}
      <span class="px-3 py-1 bg-red-100 text-red-700 rounded-full text-xs font-semibold">Unread</span>
    {{ end }}
  </div>

  <!-- Action Buttons -->
  <div class="flex gap-3 flex-wrap">
    {{ if .Message.IsRead }}
    <form action="/admin/contacts/{{ .Message.ID }}/unread" method="POST">
      <button type="submit" class="px-4 py-2 bg-yellow-400 hover:bg-yellow-500 text-white rounded-lg font-medium">
        Mark Unread
      </button>
    </form>
    {{ else }}
    <form action="/admin/contacts/{{ .Message.ID }}/read" method="POST">
      <button type="submit" class="px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium">
        Mark Read
      </button>
    </form>
    {{ end }}

    <form action="/admin/contacts/{{ .Message.ID }}/delete" method="POST"
          onsubmit="return confirm('Are you sure you want to delete this message?');">
      <button type="submit" class="px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium">
        Delete
      </button>
    </form>
  </div>

</div>


{{ end }}